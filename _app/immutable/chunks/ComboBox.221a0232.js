import{x as X,s as Le,z as ee,f as q,a as j,g as O,h as P,c as Q,d as N,j as a,K as te,i as G,u as U,L as le,M as J,v as K,A as se,B as ne,C as ae,E as Ae,o as Te,l as He,m as Be,n as Me,p as R,N as oe,O as re,k as Ie,r as Ne,w as Ue}from"./scheduler.81c9387c.js";import{a as W,S as Fe,i as Ke,t as ie}from"./index.4cfe47e1.js";function ue(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function qe(s,l){s.d(1),l.delete(s.key)}function Oe(s,l,t,o,v,_,c,i,w,d,A,T){let y=s.length,b=_.length,r=y;const H={};for(;r--;)H[s[r].key]=r;const L=[],B=new Map,C=new Map,g=[];for(r=b;r--;){const p=T(v,_,r),D=t(p);let f=c.get(D);f?o&&g.push(()=>f.p(p,l)):(f=d(D,p),f.c()),B.set(D,L[r]=f),D in H&&C.set(D,Math.abs(r-H[D]))}const M=new Set,m=new Set;function I(p){W(p,1),p.m(i,A),c.set(p.key,p),A=p.first,b--}for(;y&&b;){const p=L[b-1],D=s[y-1],f=p.key,n=D.key;p===D?(A=p.first,y--,b--):B.has(n)?!c.has(f)||M.has(f)?I(p):m.has(n)?y--:C.get(f)>C.get(n)?(m.add(f),I(p)):(M.add(n),y--):(w(D,c),y--)}for(;y--;){const p=s[y];B.has(p.key)||w(p,c)}for(;b;)I(L[b-1]);return X(g),L}const Pe=s=>({}),ce=s=>({});function fe(s,l,t){const o=s.slice();return o[45]=l[t],o}const Ve=s=>({}),de=s=>({});function ze(s){let l,t,o,v,_,c;return{c(){l=q("button"),t=oe("svg"),o=oe("path"),this.h()},l(i){l=O(i,"BUTTON",{class:!0,tabindex:!0,name:!0,"aria-label":!0});var w=P(l);t=re(w,"svg",{tabindex:!0,xmlns:!0,width:!0,height:!0,viewBox:!0,style:!0,class:!0});var d=P(t);o=re(d,"path",{d:!0,class:!0}),P(o).forEach(N),d.forEach(N),w.forEach(N),this.h()},h(){a(o,"d","M16.939 7.939 12 12.879l-4.939-4.94-2.122 2.122L12 17.121l7.061-7.06z"),a(o,"class","svelte-1380f86"),a(t,"tabindex","-1"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"width","24"),a(t,"height","24"),a(t,"viewBox","0 0 24 24"),Ie(t,"fill","rgba(0, 0, 0, 1)"),a(t,"class","svelte-1380f86"),a(l,"class",v="chevron "+(s[6]?"up":"")+" svelte-1380f86"),a(l,"tabindex","-1"),a(l,"name","chevron"),a(l,"aria-label","Chevron")},m(i,w){G(i,l,w),U(l,t),U(t,o),s[37](l),_||(c=K(l,"click",s[38]),_=!0)},p(i,w){w[0]&64&&v!==(v="chevron "+(i[6]?"up":"")+" svelte-1380f86")&&a(l,"class",v)},d(i){i&&N(l),s[37](null),_=!1,c()}}}function je(s){let l,t='<svg tabindex="-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(0, 0, 0, 1);" class="svelte-1380f86"><path d="m16.192 6.344-4.243 4.242-4.242-4.242-1.414 1.414L10.535 12l-4.242 4.242 1.414 1.414 4.242-4.242 4.243 4.242 1.414-1.414L13.364 12l4.242-4.242z" class="svelte-1380f86"></path></svg>',o,v;return{c(){l=q("button"),l.innerHTML=t,this.h()},l(_){l=O(_,"BUTTON",{class:!0,tabindex:!0,name:!0,"aria-label":!0,"data-svelte-h":!0}),Ne(l)!=="svelte-1r3v4x1"&&(l.innerHTML=t),this.h()},h(){a(l,"class","close svelte-1380f86"),a(l,"tabindex","-1"),a(l,"name","close"),a(l,"aria-label","Close")},m(_,c){G(_,l,c),o||(v=K(l,"click",s[36]),o=!0)},p:Ue,d(_){_&&N(l),o=!1,v()}}}function he(s,l){let t,o=l[45].name+"",v,_,c,i,w,d,A,T;function y(){return l[39](l[45])}return{key:s,first:null,c(){t=q("button"),v=He(o),this.h()},l(b){t=O(b,"BUTTON",{id:!0,tabindex:!0,class:!0,role:!0,"aria-label":!0,"aria-selected":!0});var r=P(t);v=Be(r,o),r.forEach(N),this.h()},h(){a(t,"id",_=l[1]+"-option-"+l[45].id),a(t,"tabindex",c=l[6]?0:-1),a(t,"class",i=(l[12]===l[45].id?"active":"")+" "+l[5]+" svelte-1380f86"),a(t,"role","option"),a(t,"aria-label",w=l[45].name),a(t,"aria-selected",d=l[12]===l[45].id),this.first=t},m(b,r){G(b,t,r),U(t,v),A||(T=[K(t,"click",y),K(t,"keydown",l[40])],A=!0)},p(b,r){l=b,r[0]&512&&o!==(o=l[45].name+"")&&Me(v,o),r[0]&514&&_!==(_=l[1]+"-option-"+l[45].id)&&a(t,"id",_),r[0]&64&&c!==(c=l[6]?0:-1)&&a(t,"tabindex",c),r[0]&4640&&i!==(i=(l[12]===l[45].id?"active":"")+" "+l[5]+" svelte-1380f86")&&a(t,"class",i),r[0]&512&&w!==(w=l[45].name)&&a(t,"aria-label",w),r[0]&4608&&d!==(d=l[12]===l[45].id)&&a(t,"aria-selected",d)},d(b){b&&N(t),A=!1,X(T)}}}function Qe(s){let l,t,o,v,_,c,i,w,d=[],A=new Map,T,y,b,r,H,L;function B(n,u){return n[12]?je:ze}let C=B(s),g=C(s);const M=s[30].before,m=ee(M,s,s[29],de);let I=ue(s[9]);const p=n=>n[45].id;for(let n=0;n<I.length;n+=1){let u=fe(s,I,n),S=p(u);A.set(S,d[n]=he(S,u))}const D=s[30].after,f=ee(D,s,s[29],ce);return{c(){l=q("div"),t=q("div"),o=q("input"),_=j(),g.c(),c=j(),i=q("div"),m&&m.c(),w=j();for(let n=0;n<d.length;n+=1)d[n].c();T=j(),f&&f.c(),this.h()},l(n){l=O(n,"DIV",{class:!0,id:!0});var u=P(l);t=O(u,"DIV",{class:!0});var S=P(t);o=O(S,"INPUT",{type:!0,placeholder:!0,class:!0,role:!0,name:!0,"aria-controls":!0,"aria-expanded":!0,"aria-activedescendant":!0,"aria-label":!0,"aria-autocomplete":!0}),_=Q(S),g.l(S),S.forEach(N),c=Q(u),i=O(u,"DIV",{class:!0,tabindex:!0,"aria-label":!0,role:!0});var F=P(i);m&&m.l(F),w=Q(F);for(let z=0;z<d.length;z+=1)d[z].l(F);T=Q(F),f&&f.l(F),F.forEach(N),u.forEach(N),this.h()},h(){a(o,"type","text"),a(o,"placeholder",s[0]),a(o,"class",v=te(s[3])+" svelte-1380f86"),a(o,"role","combobox"),a(o,"name","combobox-input"),a(o,"aria-controls",".options"),a(o,"aria-expanded",s[6]),a(o,"aria-activedescendant",s[14]),a(o,"aria-label",s[0]),a(o,"aria-autocomplete","list"),a(t,"class","search-box svelte-1380f86"),a(i,"class",y="options "+(s[6]?"open":"closed")+" "+s[4]+" svelte-1380f86"),a(i,"tabindex","-1"),a(i,"aria-label","options-container"),a(i,"role","listbox"),a(l,"class",b="select-wrapper "+s[2]+" svelte-1380f86"),a(l,"id",s[1])},m(n,u){G(n,l,u),U(l,t),U(t,o),le(o,s[10]),s[35](o),U(t,_),g.m(t,null),U(l,c),U(l,i),m&&m.m(i,null),U(i,w);for(let S=0;S<d.length;S+=1)d[S]&&d[S].m(i,null);U(i,T),f&&f.m(i,null),s[41](i),r=!0,H||(L=[J(s[15].call(null,o,{mouseHandler:s[18],keyHandler:s[19]})),K(o,"focus",s[31]),K(o,"keyup",s[32]),K(o,"keydown",s[33]),K(o,"input",s[34]),J(s[17].call(null,i,s[22])),K(i,"focusin",s[42]),J(s[16].call(null,l,s[20]))],H=!0)},p(n,u){(!r||u[0]&1)&&a(o,"placeholder",n[0]),(!r||u[0]&8&&v!==(v=te(n[3])+" svelte-1380f86"))&&a(o,"class",v),(!r||u[0]&64)&&a(o,"aria-expanded",n[6]),(!r||u[0]&16384)&&a(o,"aria-activedescendant",n[14]),(!r||u[0]&1)&&a(o,"aria-label",n[0]),u[0]&1024&&o.value!==n[10]&&le(o,n[10]),C===(C=B(n))&&g?g.p(n,u):(g.d(1),g=C(n),g&&(g.c(),g.m(t,null))),m&&m.p&&(!r||u[0]&536870912)&&se(m,M,n,n[29],r?ae(M,n[29],u,Ve):ne(n[29]),de),u[0]&50336354&&(I=ue(n[9]),d=Oe(d,u,p,1,n,I,A,i,qe,he,T,fe)),f&&f.p&&(!r||u[0]&536870912)&&se(f,D,n,n[29],r?ae(D,n[29],u,Pe):ne(n[29]),ce),(!r||u[0]&80&&y!==(y="options "+(n[6]?"open":"closed")+" "+n[4]+" svelte-1380f86"))&&a(i,"class",y),(!r||u[0]&4&&b!==(b="select-wrapper "+n[2]+" svelte-1380f86"))&&a(l,"class",b),(!r||u[0]&2)&&a(l,"id",n[1])},i(n){r||(W(m,n),W(f,n),r=!0)},o(n){ie(m,n),ie(f,n),r=!1},d(n){n&&N(l),s[35](null),g.d(),m&&m.d(n);for(let u=0;u<d.length;u+=1)d[u].d();f&&f.d(n),s[41](null),H=!1,X(L)}}}function Ge(s,l,t){let{$$slots:o={},$$scope:v}=l,{placeholder:_="Select an option"}=l,{options:c}=l,{defaultSelected:i=null}=l,{id:w}=l,{wrapperClass:d=""}=l,{inputClass:A=""}=l,{optionsContainerClass:T=""}=l,{optionsClass:y=""}=l;const b=Ae();let r=!1,H,L,B=c,C=i?i.name:"",g,M,m,I;Te(()=>{if(i)if(c.includes(i))t(12,M=i.id),t(13,m=i);else throw new Error("defaultSelected must be present in the options.")});const p=(e,k)=>{const h=V=>e&&e.contains(V.target)&&V.target!==H&&!V.defaultPrevented&&k.mouseHandler(),E=V=>e&&V.key==="Escape"&&!V.defaultPrevented&&k.keyHandler();return document.addEventListener("click",h,!0),document.addEventListener("keydown",E,!0),{destroy(){document.removeEventListener("click",h,!0),document.removeEventListener("keydown",E,!0)}}},D=(e,k)=>{const h=E=>e&&!e.contains(E.target)&&!E.defaultPrevented&&k();return document.addEventListener("click",h,!0),{destroy(){document.removeEventListener("click",h,!0)}}},f=(e,k)=>{const h=E=>e&&k(E);return document.addEventListener("keydown",h,!0),{destroy(){document.removeEventListener("keydown",h,!0)}}},n=()=>{t(6,r=!0),t(10,C=""),t(9,B=c)},u=()=>{t(6,r=!1)},S=()=>{t(6,r=!1),m?t(10,C=m.name):t(10,C="")},F=e=>{if(!(e.key=="Tab"||e.key==="ArrowDown")){if(e.key==="Escape"){t(6,r=!1);return}t(6,r=!r),r?g.focus():g.blur()}},z=e=>{const k=L.querySelectorAll("button");let h=k[0],E=k[k.length-1];if(r)if(e.key==="Tab")e.shiftKey?document.activeElement===h&&(E.focus(),e.preventDefault()):document.activeElement===E&&(h.focus(),e.preventDefault());else return},_e=(e,k)=>{e.key==="Escape"||e.key==="Tab"||e.key==="ArrowDown"||e.key==="ArrowUp"||(t(9,B=c),t(9,B=B.filter(h=>h.name.toLowerCase().includes(k.toLowerCase()))))},Y=e=>{const k=L.querySelectorAll("button");let h=k[0],E=k[k.length-1];if(_e(e,C),e.key==="ArrowDown"){h==null||h.focus(),e.preventDefault();return}if(e.key==="Home"){h==null||h.focus(),e.preventDefault();return}if(e.key==="End"){E==null||E.focus(),e.preventDefault();return}},Z=e=>{const k=L.querySelectorAll("button"),h=k[0],E=k[k.length-1];if(e.key==="ArrowDown"&&(e.target.nextElementSibling?(e.target.nextElementSibling.focus(),e.preventDefault()):(h.focus(),e.preventDefault())),e.key==="ArrowUp"&&(e.target.previousElementSibling?(e.target.previousElementSibling.focus(),e.preventDefault()):(E.focus(),e.preventDefault())),e.key==="Home"){h==null||h.focus(),e.preventDefault();return}if(e.key==="End"){E==null||E.focus(),e.preventDefault();return}},x=e=>{t(12,M=e.id),t(13,m=e),t(10,C=e.name),t(6,r=!1),b("select",e)},$=e=>{t(12,M=null),t(13,m=null),t(10,C=""),b("clear",e)},me=()=>{t(6,r=!0),t(10,C="")},be=e=>{Y(e)},pe=e=>{e.key==="Tab"&&S()};function ve(){C=this.value,t(10,C)}function we(e){R[e?"unshift":"push"](()=>{g=e,t(11,g)})}const ge=()=>{$(m)};function ke(e){R[e?"unshift":"push"](()=>{H=e,t(7,H)})}const ye=e=>{F(e)},Ce=e=>{x(e)},Ee=e=>{Z(e)};function De(e){R[e?"unshift":"push"](()=>{L=e,t(8,L)})}const Se=()=>{var e;t(14,I=(e=document.activeElement)==null?void 0:e.id)};return s.$$set=e=>{"placeholder"in e&&t(0,_=e.placeholder),"options"in e&&t(27,c=e.options),"defaultSelected"in e&&t(28,i=e.defaultSelected),"id"in e&&t(1,w=e.id),"wrapperClass"in e&&t(2,d=e.wrapperClass),"inputClass"in e&&t(3,A=e.inputClass),"optionsContainerClass"in e&&t(4,T=e.optionsContainerClass),"optionsClass"in e&&t(5,y=e.optionsClass),"$$scope"in e&&t(29,v=e.$$scope)},[_,w,d,A,T,y,r,H,L,B,C,g,M,m,I,p,D,f,n,u,S,F,z,Y,Z,x,$,c,i,v,o,me,be,pe,ve,we,ge,ke,ye,Ce,Ee,De,Se]}class We extends Fe{constructor(l){super(),Ke(this,l,Ge,Qe,Le,{placeholder:0,options:27,defaultSelected:28,id:1,wrapperClass:2,inputClass:3,optionsContainerClass:4,optionsClass:5},null,[-1,-1])}}export{We as C};
